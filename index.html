<html>
    <head>
    </head>
    <body>
        <canvas id="canvas" width="1000" height="600"></canvas>
        <!-- <audio src="" /> -->
        <script src="data.js"></script>
        <script>
            var canvas = document.getElementById('canvas').getContext("2d")

            var min = new Date(data[0][0])
            var max = new Date(data[data.length - 1][0])
            var range = max - min

            var x = data.map(function(row) { return 1000 * (new Date(row[0]) - min) / range })
            var cumsum = data.map(function(row) { return row[1] })
            var y = data.reduce(function(a, b) { return a + b })
            
            // Plot a line.
            var line = function(context, x, y) {
                if (x.length != y.length) {
                    //throw 
                    alert('Lengths must match.')
                }
                context.moveTo(x[0], y[0])
                for (var i = 1; i <= x.length; i ++) {
                    context.lineTo(x[i], y[i])
                }
                context.stroke()
            }
            line(canvas, x, y)
        </script>
    </body>
</html>
